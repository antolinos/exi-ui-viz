function Gallery(a){}function PuckLayout(a){this.id=_.uniqueId("unipuck_layout_"),this.height=200,this.width=this.height,this.fontSize=7,this.fontColor="#FFFFFF",this.fill="#2E2E2E",this.filledColor="#D8D8D8",null!==a&&(null!==a.width&&(this.height=a.size,this.width=a.width),null!==a.height&&(this.height=a.height),null!==a.fontSize&&(this.fontSize=a.fontSize),null!==a.fontColor&&(this.fontColor=a.fontColor),null!==a.fill&&(this.fill=a.fill)),this.onClick=new Event(this)}function SamplePlateLayout(a){PuckLayout.call(this,a),this.template="sampleplate.platelayout",this.wellType="rect"}function SpineLayout(a){PuckLayout.call(this,a),this.template="spine.platelayout",this.wellType="circle"}function UnipuckLayout(a){PuckLayout.call(this,a),this.template="unipuck.platelayout",this.wellType="circle"}!function(a){function b(a,b){return a.w('<svg id="').f(b.getPath(!0,["id"]),b,"h").w('" width="').f(b.getPath(!0,["width"]),b,"h").w('" height="').f(b.getPath(!0,["height"]),b,"h").w('" xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink"><g><rect width="').f(b.getPath(!0,["width"]),b,"h").w('" height="').f(b.getPath(!0,["height"]),b,"h").w('"  rx="10" ry="10" fill="#585858" stroke="#000000" style="stroke-width: 1; cursor: pointer;"></rect>').s(b.get(["wells"],!1),b,{block:c},{}).w("</svg>")}function c(a,b){return a.w('<g id="').f(b.getPath(!0,["id"]),b,"h").w('"><rect width="').f(b.getPath(!0,["r"]),b,"h").w('" height="').f(b.getPath(!0,["r"]),b,"h").w('"  x="').f(b.getPath(!0,["cx"]),b,"h").w('" y="').f(b.getPath(!0,["cy"]),b,"h").w('" fill="').f(b.getPath(!0,["fill"]),b,"h").w('" stroke="#000000" style="stroke-width: 1; cursor: pointer;"></rect><text x="').f(b.getPath(!0,["labelcx"]),b,"h").w('" y="').f(b.getPath(!0,["labelcy"]),b,"h").w('" style="font-size:').f(b.getPath(!0,["fontSize"]),b,"h").w(';" fill="').f(b.getPath(!0,["fontColor"]),b,"h").w('">').f(b.getPath(!0,["label"]),b,"h").w("</text></g>")}return a.register("sampleplate.platelayout",b),b.__dustBody=!0,c.__dustBody=!0,b}(dust),function(a){function b(a,b){return a.w('<svg  id="').f(b.getPath(!0,["id"]),b,"h").w('" width="').f(b.getPath(!0,["width"]),b,"h").w('" height="').f(b.getPath(!0,["height"]),b,"h").w('" xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink"><g><circle  cx="').f(b.getPath(!0,["cx"]),b,"h").w('" cy="').f(b.getPath(!0,["cy"]),b,"h").w('" r="').f(b.getPath(!0,["r"]),b,"h").w('" fill="#585858" stroke="#000000" style="stroke-width: 1; cursor: pointer;"></circle>').s(b.get(["wells"],!1),b,{block:c},{}).w("</g></svg>")}function c(a,b){return a.w('<g id="').f(b.getPath(!0,["id"]),b,"h").w('"><circle cx="').f(b.getPath(!0,["cx"]),b,"h").w('" cy="').f(b.getPath(!0,["cy"]),b,"h").w('" r="').f(b.getPath(!0,["r"]),b,"h").w('" fill="').f(b.getPath(!0,["fill"]),b,"h").w('" stroke="#000000" style="stroke-width: 1;"></circle><text x="').f(b.getPath(!0,["labelcx"]),b,"h").w('" y="').f(b.getPath(!0,["labelcy"]),b,"h").w('" style="font-size:').f(b.getPath(!0,["fontSize"]),b,"h").w(';" fill="').f(b.getPath(!0,["fontColor"]),b,"h").w('">').f(b.getPath(!0,["label"]),b,"h").w("</text></g>")}return a.register("spine.platelayout",b),b.__dustBody=!0,c.__dustBody=!0,b}(dust),function(a){function b(a,b){return a.w('<svg id="').f(b.getPath(!0,["id"]),b,"h").w('" width="').f(b.getPath(!0,["width"]),b,"h").w('" height="').f(b.getPath(!0,["height"]),b,"h").w('" xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink"><g><circle cx="').f(b.getPath(!0,["cx"]),b,"h").w('" cy="').f(b.getPath(!0,["cy"]),b,"h").w('" r="').f(b.getPath(!0,["r"]),b,"h").w('" fill="#585858" stroke="#000000" style="stroke-width: 1; cursor: pointer;"></circle>').s(b.get(["wells"],!1),b,{block:c},{}).w("</svg>")}function c(a,b){return a.w('<g id="').f(b.getPath(!0,["id"]),b,"h").w('"><circle cx="').f(b.getPath(!0,["cx"]),b,"h").w('" cy="').f(b.getPath(!0,["cy"]),b,"h").w('" r="').f(b.getPath(!0,["r"]),b,"h").w('" fill="').f(b.getPath(!0,["fill"]),b,"h").w('" stroke="#000000" style="stroke-width: 1;"></circle><text x="').f(b.getPath(!0,["labelcx"]),b,"h").w('" y="').f(b.getPath(!0,["labelcy"]),b,"h").w('" style="font-size:').f(b.getPath(!0,["fontSize"]),b,"h").w(';" fill="').f(b.getPath(!0,["fontColor"]),b,"h").w('">').f(b.getPath(!0,["label"]),b,"h").w("</text></g>")}return a.register("unipuck.platelayout",b),b.__dustBody=!0,c.__dustBody=!0,b}(dust),Gallery.prototype.addItem=function(a,b,c){var d=document.getElementById(c),e=document.createElement("div");return e.setAttribute("id",_.uniqueId()),d.appendChild(e),e.getAttribute("id")},Gallery.prototype.doUnipuck=function(a){var b=this.addItem("","","main"),c=new UnipuckLayout({width:160,height:160,fontSize:10,fill:"#2E2E2E",fontColor:"#FFFFFF"});c.render(b),c.load([{name:"test",position:1,id:"id"},{name:"test",position:8,id:"id"}]),c.onClick.attach(function(a,b){console.log(b)})},Gallery.prototype.doSpine=function(a){var b=this.addItem("","","main"),c=new SpineLayout({width:160,height:160,fontSize:10,fill:"#2E2E2E",fontColor:"#FFFFFF"});c.render(b),c.load([{name:"test",position:1,id:"id"},{name:"test",position:8,id:"id"}]),c.onClick.attach(function(a,b){console.log(b)})},Gallery.prototype.doSamplePlate=function(a){var b=this.addItem("","","main"),c=new SamplePlateLayout({width:400,height:200,fontSize:10,fill:"#2E2E2E",fontColor:"#FFFFFF"});c.render(b),c.load([{name:"test",position:1,id:"id"},{name:"test",position:8,id:"id"}]),c.onClick.attach(function(a,b){console.log(b)})},Gallery.prototype.init=function(a){document.getElementById(a);this.doUnipuck(),this.doSpine(),this.doSamplePlate()},PuckLayout.prototype.load=function(a){this.samples=a,null!==this.targetId&&this.render(this.targetId)},PuckLayout.prototype.getSvgGroupById=function(a){var b=Snap.select("#"+this.id);return b.select("#"+a)},PuckLayout.prototype.render=function(a){var b=this;this.targetId=a,document.getElementById(a).innerHTML="",document.getElementById(a).setAttribute("width",this.width),document.getElementById(a).setAttribute("height",this.height);var c=this.getConfiguration();dust.render(this.template,c,function(b,c){document.getElementById(a).innerHTML=c});var d=Snap.select("#"+this.id);if(null!==d)for(var e=function(a){var d=_.find(c.wells,{id:a.currentTarget.id});b.onClick.notify({well:d,sample:_.find(b.samples,{position:d.position})})},f=function(a){b.getSvgGroupById(a.currentTarget.id).select(b.wellType).attr({stroke:"#FFFFFF",style:"cursor:pointer"})},g=function(a){b.getSvgGroupById(a.currentTarget.id).select(b.wellType).attr({stroke:"#000000"})},h=0;h<c.wells.length;h++){var i=this.getSvgGroupById(c.wells[h].id);i.click(e),i.mouseover(f),i.mouseout(g)}if(null!=this.samples)for(var j=0;j<this.samples.length;j++){var k=_.find(c.wells,{position:this.samples[j].position});b.getSvgGroupById(k.id).select(b.wellType).attr({fill:this.filledColor})}},SamplePlateLayout.prototype.render=PuckLayout.prototype.render,SamplePlateLayout.prototype.getSvgGroupById=PuckLayout.prototype.getSvgGroupById,SamplePlateLayout.prototype.load=PuckLayout.prototype.load,SamplePlateLayout.prototype.getConfiguration=function(){for(var a=[],b=4,c=12,d=0;b>d;d++)for(var e=0;c>e;e++){var f=e*(this.width/(c+1))+this.width/c/2,g=d*(this.height/(b+1))+this.height/b/2,h=this.width/(c+2),i=12*d+e;a.push({cx:f,cy:g,labelcx:f+h/2,labelcy:g+h/2,label:i,position:i,r:h,fill:this.fill,fontColor:this.fontColor,fontSize:this.fontSize,id:this.id+"_"+i})}return{width:this.width,height:this.height,r:this.width/2,cx:this.width/2,cy:this.height/2,id:this.id,wells:a}},SpineLayout.prototype.render=PuckLayout.prototype.render,SpineLayout.prototype.getSvgGroupById=PuckLayout.prototype.getSvgGroupById,SpineLayout.prototype.load=PuckLayout.prototype.load,SpineLayout.prototype.getConfiguration=function(){for(var a=[],b=this.width/2-2,c=this.width/2-2,d=this.width/2-this.width/8,e=0,f=[9,8,7,6,5,4,3,2,1,10],g=0;10>g;g++){var h=b+d*Math.cos(2*Math.PI*g/10),i=c+d*Math.sin(2*Math.PI*g/10),j=this.width/11;a.push({cx:h,cy:i,labelcx:h-j/2.5,labelcy:i+j/2.5,label:f[e],position:f[e],r:this.width/11,fill:this.fill,fontColor:this.fontColor,fontSize:this.fontSize,id:this.id+"_"+f[e]}),e+=1}return{width:this.width,height:this.height,r:this.width/2,cx:this.width/2,cy:this.height/2,id:this.id,wells:a}},UnipuckLayout.prototype.render=PuckLayout.prototype.render,UnipuckLayout.prototype.getSvgGroupById=PuckLayout.prototype.getSvgGroupById,UnipuckLayout.prototype.load=PuckLayout.prototype.load,UnipuckLayout.prototype.getConfiguration=function(){for(var a=[],b=this.width/2-2,c=this.width/2-2,d=this.width/2-this.width/8,e=0,f=[14,13,12,11,10,9,8,7,6,16,15],g=0;55>g;g++)if(g%5==1){var h=b+d*Math.cos(2*Math.PI*g/55),i=c+d*Math.sin(2*Math.PI*g/55),j=this.width/11;a.push({cx:h,cy:i,labelcx:h-j/2.5,labelcy:i+j/2.5,label:f[e],position:f[e],r:this.width/11,fill:this.fill,fontColor:this.fontColor,fontSize:this.fontSize,id:this.id+"_"+f[e]}),e+=1}for(d=this.width/2-this.width/3,e=0,f=[4,3,2,1,5],g=0;20>g;g++)if(g%4==3){var k=b+d*Math.cos(2*Math.PI*g/20),l=c+d*Math.sin(2*Math.PI*g/20),m=this.width/11;a.push({cx:k,cy:l,labelcx:k-m/2.5,labelcy:l+m/2.5,label:f[e],position:f[e],r:m,fill:this.fill,fontColor:this.fontColor,fontSize:this.fontSize,id:this.id+"_"+f[e]}),e+=1}return{width:this.width,height:this.height,r:this.width/2,cx:this.width/2,cy:this.height/2,id:this.id,wells:a}};